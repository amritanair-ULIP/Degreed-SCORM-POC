!function(a){function b(a){return a*Math.PI/180}function c(g,h,e){var f=a("#"+e+"canvas")[0],d=a("#"+e+"canvas"),c=f.getContext("2d"),i=f.width/2,j=f.height/2;c.beginPath(),c.arc(i,j,a(d).attr("data-radius"),-b(90),-b(90)+b(g/100*360),!1),c.fillStyle="transparent",c.fill(),c.lineWidth=a(d).attr("data-width"),c.strokeStyle=a(d).attr("data-stroke"),c.stroke(),c.closePath(),"true"==a(d).attr("data-text").toLocaleLowerCase()&&a("#"+e+" .clProg").val(h+("true"==a(d).attr("data-percent").toLocaleLowerCase()?"%":""))}a.fn.circularloader=function(b){var k=this[0],e=k.id;if(0==a("#"+e+" canvas").length){var d=a.extend({backgroundColor:"#003399",fontColor:"#fff",fontSize:"15px",radius:26,progressBarBackground:"#fff",progressBarColor:"#84C225",progressBarWidth:10,progressPercent:0,progressValue:0,showText:!0},b),f=parseInt(d.radius),h=parseInt(d.progressBarWidth),i=parseInt(parseInt(d.progressValue)>0?d.progressValue:d.progressPercent),j=parseInt(d.progressPercent),m="color:"+d.fontColor+";font-size:"+parseInt(d.fontSize)+"px;width:"+2*(f+h)+"px;vertical-align:middle;position:relative;background-color:transparent;border:0 none;transform:translateY(-42%);-webkit-transform: translateY(-42%);-ms-transform: translateY(-42%);height:"+2*(f+h)+"px;margin-left:-"+2*(f+h)+"px;text-align:center;padding:0;"+(d.showText?"":"display:none;");a('<canvas data-width="6" data-radius="'+f+'" data-stroke="'+d.progressBarColor+'" data-text='+d.showText+" data-percent="+(null==b.progressValue)+' id="'+e+'canvas" width='+2*(f+h)+" height="+2*(f+h)+"></canvas>").appendTo(k),a('<input class="clProg" style="'+m+'" value="'+i+(null==b.progressValue?"%":"")+'" disabled></input>').appendTo(k),a("#"+e).css("height",2*(f+h));var l=a("#"+e+"canvas")[0],g=l.getContext("2d"),n=l.width/2,o=l.height/2;a("#"+e+"canvas").offset().left,a("#"+e+"canvas").offset().top,g.beginPath(),g.arc(n,o,f,0,2*Math.PI,!1),g.fillStyle=d.backgroundColor,g.fill(),g.lineWidth=h,g.strokeStyle=d.progressBarBackground,g.stroke(),g.closePath(),j>0&&c(j,i,e)}else null==b.progressPercent&&null==b.progressValue||(j=0,i=0,c(j=null==b.progressPercent?parseInt(b.progressValue)>100?100:parseInt(b.progressValue):parseInt(b.progressPercent)>100?100:parseInt(b.progressPercent),i=null==b.progressValue?parseInt(b.progressPercent)>100?100:parseInt(b.progressPercent):parseInt(b.progressValue),e));return this}}(jQuery)